## Эффекты, значения и вычисление

### Эффекты

Комьпютеры (или их процессоры) вычисляют, ведь так?
Это правда, что компьютерные программы делают много разных вычислений.
Но все эти вычисления были бы бесполезны, если бы не приводили к каким-либо эффектам в реальном физическом мире.

Например, если взять самую первую программу, которую пишет каждый начинающий программист:
```js
// javascript
console.log('Hello, world!');
```

... то мы знаем, что эта программа приводит (или, по крайней мере по замыслу автора, должна приводить) к появлению где-то на экране текста `Hello, world!`.

Это пример эффекта в реальном физическом мире, на мониторе.

Возьмем пример другой программы:
```js
// <-- ~/1.js -->
// javascript
1 + 1
```

Это корректная программа на JavaScript. Ее можно запустить и она успешно отработает, выполнив все вычисления. Вывод в консоль будет примерно такой:
```sh
~ $> node 1.js
~ $> 
```

Нет сообщений об ошибках - программа отработала успешно. Но также и нету никакого видимого эффекта ее работы. И зачем тогда все эти вычисления?..

Чтобы свидетельствовать результаты вычислений, можно воспользоваться `console.log`. Эта функция ответственна за произведение эффекта печати текста в консоли.

```js
// <-- ~/2.js -->
// javascript
console.log(1 + 1);
```

```sh
~ $> node 2.js
2
~ $> 
```

Можно сказать, что в большинстве случаев, программы пишутся, чтобы производить какой-то эффект. Редко, когда программы пишутся, чтобы что-то только считать.

### Значения

Возьмем пример другой, более сложной программы: вывод ракеты на орбиту. Ежесекундно поступает множество данных, например координаты ракеты в данный момент времени.

Наблюдая за изменениями этих координат во времени и зная расчетную (или заданную/теоретическую) траекторию полета, можно судить отклоняется ли ракета от курса. И в случае отклонений, реагировать (т.е. производить эффект).

Упрощенно, скажем у ракеты есть два реактивных двигателя, левый и правый, которые, включаясь и выключаясь по очереди или вместе, оказывают определенное влияние на траекторию полета ракеты. Основываясь на входных данных (потоке изменяющихся во времени координат), можно рассчитать (вычилсить) какой эффект необходимо произвести: включить левый двигатель, или включить правый двигатель, или включить оба одновременно.

Имея такую упрощенную модель (она называется математическая модель, или кратко матмодель), логично предположить, что в коде такой программы следует искать функции производящие этот эффект. Например, `leftEngine.fire()`.

Редко, когда функции, производящие эффект (англ. effectful functions), не нуждаются ни в каких значениях для произведения этого эффекта. В нашем примере, вряд ли двигатель у ракеты включается надолго, так как даже малейшее "подталкивание" ракеты, оказывает существенное влияние на ее траекторию. Для произведения этого эффекта, необходимо значение - колличество миллисекунд, на которое нужно включить двигатель. Код будет выглядеть примерно так `leftEngine.fire(10)`, где `10` - колличество миллисекунд.

### Вычисление

Редко бывает так, что эффекты производятся на основе константных (постоянных) значений. Чаще всего эти значения вычисляются, на основе каких-то других значений. В нашем примере с ракетой, колличество миллисекунд, на которое нужно включить двигатель, очевидно, зависит от степени отклонения ракеты от курса в определенном направлении. То есть значение `ms` в коде `leftEngine.fire(ms)` зависит от значения степени отклонения `deviation` (`deviation -> ms`). В свою очередь значение отклонения `deviation` - не физическая константа, как например ускорение свободного падения g в физике (9.8), а изменяющаяся величина, зависящая от рассчетной траектории и потока координат во времени (`(trajectory, coordinates) -> deviation`). Зная формулу, по которой вычисляются рассчетные координаты ракеты в момент времени t, и наблюдая за изменениями фактических координат полета, можно вычислить значение `deviation`. Имея значение `deviation` можно вычислить какой двигатель включать и насколько долго (`(trajectory, coordinates) -> deviation -> ms`).

NB! Строго говоря, физическая константа [ускорения свободного падения g](https://ru.wikipedia.org/wiki/%D0%A3%D1%81%D0%BA%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B2%D0%BE%D0%B1%D0%BE%D0%B4%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BF%D0%B0%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F) - тоже вовсе не константа, а величина зависимая. Она зависит от места на планете: 9.780 на экваторе и 9.82 на полюсах (`coordinates -> g`).

Одни значения зависят от других (или вычисляются на основе других). Поэтому в коде программы много всяких вычислений, которые приводят к значениям (величинам), которые используются для произведения эффектов.

### Что есть эффект, а что нет?

Само вычисление, происходящее в процессоре, мы эффектом не считаем. Нет никакого видимого эффекта от того, что процессор что-то там вычисляет. Другими органами чувств можно свидетельствовать в физическом мире эффект от работы процессора, например выделение тепла. Это несомненно эффект, но это называется побочный эффект, а не желаемый эффект. За исключением ситуации, когда мы специально заставляем процессор выполнять сложные вычисления с целью повысить комнатную температуру.

Все (желаемые) эффекты производятся устройствами, которые принято называть периферийными. Монитор служит для получения графиской информации через наши глаза. Динамик - для получения аудиальной информации через наши уши. Распространяя этот критерий на все периферийные устройства можно сказать, что вычисления - это процессор, за пределами процессора - эффекты.

Далее по курсу будет понятно, почему такой критерий очень удобен при написании программного кода. Пока, на данном этапе, предлагаю принять это как данность.

### Другие примеры эффектов

- Веб-приложение: очевидно предназначено для представления графической информации. Периферийное устройство: дисплей.
- Программа, работающая с удаленной базой данных: база данных удаленная, т.е. находящаяся на другом компьютере, возможно на другом континенте. Очевидно для связи с ней нужна сеть (Интернет, например). Эффект в физическом мире: движение электронов по проводам сети. И это за пределами процессора. Периферийное устройство: сетевая карта.
- Программа, работающая с локальной базой данных: хоть сеть тут и не вовлечена, база данных - это тонны данных, хранящихся на диске или в памяти компьютера. И это за пределами процессора. Периферийное устройство: ПЗУ (постоянное запонимающее устройство, долговременная память - например диск), ВЗУ (временное запоминающее устройство - например микросхемы RAM, random acces memory).

### ДЗ

- А какие примеры эффектов можете предложить Вы?

- Какие величины/значения нужны для произведения этих эффетов?

- Константные ли это величины/значения? Или зависящие от других значений?
